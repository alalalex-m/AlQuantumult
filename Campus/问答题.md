# 计算机网络复习提要

## 客户程序、服务器程序的特点

* 客户程序特点

  ①被用户调用后运行，主动向服务器发起通信，必须知道服务器的地址；

  ②不需要特殊的硬件和复杂的操作系统。

* 服务器程序的特点：

  ①专门提供某种服务的程序，可同时处理多个用户请求；

  ②一直不断的运行，被动等待客户通信；

  ③需要强大的硬件和高级的操作系统

## 协议分层的好处

* ①各层之间是独立的；②灵活性好；③结构上可分割；④易于实现和维护；⑤能够促进标准化工作。


## 分组交换与电路交换的基本原理，优缺点

电路交换

电路交换技术是在通信两端设备间，通过一个一个交换设备中线路的连接,实际建立了一条专用的物理线路，在该连接被拆除前，这两端的设备单独占用该线路进行数据传输。电话系统就是采用了线路交换技术。通过一个一个交换机中的输入线与输出线的物理连接，在呼叫电话和接收电话间建立了一条物理线路。通话双方可以一直占有这条线路通话。通话结束后，这些交换机中的输入线与输出线断开物理线路被切断。 
1.电路交换的优点
连接建立后，数据以固定的传输率被传输，传输延迟小。由于物理线路被单独占用，因此不可能发生冲突。
适用于实时大批量连续的数据传输。
2.电路交换的缺点
建立连接将跨多个设备或线缆,需要花费很长的时间。
连接建立后,由于线路是专用的，即使空闲，也不能被其他设备使用，造成一定的浪费。
对通信双方而言，必须做到双方的收发速度、编码方法信息格式和传输控制等一致才能完成通信。

报文交换

报文交换是一种存储转发技术，报文交换不要求两个通信结点之间建立专用通路。节点把要发送的信息组织成一个数据包——报文，该报文含有目标结点的地址，完整的报文在网络中一站一站地向前传送”
1．报文交换的优点
线路的利用率较高。许多报文可以分时共享交换设备间的线路。
当接收端设备不可用时，可暂时由交换设备保存报文,报文在传输时对报文的大小小没有限制。
在线路交换网络中，当通信量变得很大时，某些连接会被阻塞，即网络在其负荷降下来之前，不再接收更多的请求。而在报文交换网络中，却仍然可以接收报文，只是会增加传输延迟。
能够建立报文优先级。可以把暂存在交换设备里的许多报文重新安排先后顺序，优先级高的报文先转发，减少高优先级报文的延迟。
交换设备能够复制报文副本,并把每一个拷贝送到多个所需的目的地。
2．报文交换的缺点
数据的传输延迟比较长，而且延迟时间长短不一,因此不适用于实时或交互式的通信系统。
·当报文传输错误时,必须重传整个报文。

分组交换

分组交换又称报文分组交换，或包交换，也是种存储转发技术。分组交换中,将报文分解成若干段，每一段报文加上交换时所需的地址、控制和差错校验信息，按规定的格式构成一个数据单位，通常被称为“报文分组”或“包”。在分组交换网络中，控制和管理通过网络的交换分组流有两种方式: 数据报（无连接的网络服务）和虚电路(面向连接的网络服务)。

1.分组交换的优点

优点：无建立延时、线路利用率高、简化存储管理、加速传输、减少出错率和重发数据量

2.分组交换的缺点
缺点：存在传输延时、需要传输额外的信息量、可能出现失序、丢失或重复分组。

## 计算机网络的性能指标

速率、带宽、吞吐量、时延、时延带宽积、往返时间、利用率

## 实体、协议、服务和服务访问点的含义、相互之间的关系

实体：表示发送或者接受信息的硬件或者软件进程

协议：控制两个对等实体（或者多个实体）进行通信的规则的集合在协议控制下，个对等实体之间的通信能够使得本层向上层提供服务。要使用本层的协议，还得使用下层提供的服务。

报务：能够被高层看的见的功能称为服务

报务访问点：同一系统中相邻两层的实体进行交互的地方

本层实体看得到下层的服务，但是看不到下层的协议，协议是水平的，服务是垂直的

## 协议与划分层次---

计算机网络中的协议是为了在不同计算机之间进行通信而制定的规则和约定。协议定义了数据的格式、传输方式、错误处理等内容，确保通信的可靠性和一致性。
划分层次是指将网络功能划分为不同的层级，每个层级负责不同的任务，并且层与层之间通过接口进行交互。常用的划分层次模型是OSI参考模型和TCP/IP模型。
OSI参考模型	七层，从下到上分别是物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。
TCP/IP模型	四层，从下到上分别是网络接口层、网络层、传输层和应用层。

## 计算机网体系结构：7层、5层、4层

* 7层模型是指ISO/OSI参考模型，从下到上分别是
  * 物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。 

* 5层模型是指TCP/IP参考模型，从下到上分别是
  * 物理层、数据链路层、网络层、传输层和应用层。

* 4层模型是指传统的TCP/IP参考模型，从下到上分别是
  * 网络接口层、网络层、传输层和应用层


## 最基本的二元制调制方法

调幅（AM）	调频（FM）	调相（PM）

## 信道的极限容量---

信道的极限容量是指在特定的传输环境下，信道所能传输的最高数据速率。根据香农定理，信道的极限容量由信噪比决定，即信号功率与噪声功率之比。
数学上，信道的极限容量可以用香农公式来计算：
C = B * log2(1 + SNR)
其中，C表示信道的极限容量（单位为比特每秒），B表示信道的带宽（单位为赫兹），SNR表示信噪比。
香农公式表明，在给定的信道带宽下，信道的极限容量与信噪比成正比。当信噪比较高时，信道的极限容量也会相应增加。但是，当信噪比接近于零时，信道的极限容量趋近于零，即无法传输可靠的信息。
因此，为了提高信道的容量，可以采取多种方法，如增加信号功率、减小噪声功率、优化调制方案等。同时，还可以利用编码和调制技术、信道编码和纠错码等方法来提高信道的可靠性和容量。

## CDMA---

CDMA，即码分多址，是一种用于无线通信的多址技术。它允许多个用户同时在同一频率上进行通信，通过对每个用户的数据进行编码和解码来实现区分。以下是有关CDMA的一些重要信息：

1. 编码方式：CDMA使用一种称为扩频的编码技术。在发送数据之前，发送方将数据乘以一个特定的码（称为扩频码），使数据信号在频域上展宽。接收方通过与发送方使用相同的扩频码进行解码，从而恢复原始数据。
2. 多用户接入：CDMA允许多个用户同时在同一频率上进行通信，而不会产生明显的干扰。每个用户被分配一个唯一的扩频码，通过这种方式实现用户之间的区分。在接收端，使用与目标用户相关的扩频码进行解码，以提取该用户的数据。
3. 抗干扰能力：CDMA具有良好的抗干扰能力。由于每个用户使用不同的扩频码，即使在存在干扰的情况下，接收端仍然能够有效地解码目标用户的数据。
4. 频谱效率：CDMA的频谱效率相对较高。由于多个用户可以共享同一频率带宽，CDMA可以在有限的频谱资源下支持更多的用户。
5. 应用领域：CDMA广泛应用于无线通信系统中，如移动通信系统（例如CDMA2000和WCDMA）和卫星通信系统。它提供了一种可靠和高效的通信方式，适用于同时支持多个用户的场景。

## 点对点信道的数据链路层在进行通信时的主要步骤

1. 结点A的数据链路层把网络层的 IP 数据报添加首部、尾部封装成帧 
1. A 把封装好的帧发送给B 
1. 如果 B 收到的帧没有差错，则提取出 IP 数据报交给上层的网络层，否则丢弃

## PPP协议的三个组成部分

1. 链路控制协议（LCP）：LCP用于建立、配置和测试数据链路连接。它负责在PPP连接的两端进行链路配置和维护，包括协商传输参数、错误检测和恢复机制等。

2. 网络控制协议（NCP）：NCP用于在PPP连接上协商和配置网络层协议。它负责选择和配置网络层协议，例如IP、IPX等，并确保它们在PPP连接上正常运行。

3. 将 IP 数据报封装到串行链路的方法

4. 链路控制协议 LCP

  网络控制协议 NCP

## 数据链路层的三个基本问题

1. 封装成帧：添加首、尾部
2. 透明传输：无论什么数据都能按照原样无差错通过这个数据链路层
3. 差错检测：使用循环冗余检验（CRC）和海明码等。

## 媒体共享信道技术的两大类，每一类又有哪几种

（1） 静态划分信道：时分复用、频分复用、波分复用、码分复用

（2）动态媒体接入控制：①随机接入：所有用户随机发送信息；②受控接入：用户必须服从一定控制。

## 时分多路复用（TDM）的几种技术包括：

1. 统计时分多路复用：根据传输数据的实际需求，动态地分配时间片给不同的用户。
2. 固定时分多路复用：将时间划分为固定的时隙，每个时隙只分配给一个用户，不管其是否有数据传输需求。
频分多路复用（FDM）的几种技术包括：
1. 统计频分多路复用：根据传输数据的实际需求，动态地分配频率给不同的用户。
2. 固定频分多路复用：将频谱划分为固定的频带，每个频带只分配给一个用户，不管其是否有数据传输需求。

## 为了通信的方便，以太网采用哪两种措施。

1. 采用较灵活无连接接入方式，不用先建立连接可直接发送数据，对发送数据帧不进行编号也不求回应确认。
1. 发送的数据都使用曼切斯特编码

## 截断二进制指数退避算法---

截断二进制指数退避算法：在计算机网络中用于解决冲突问题的退避算法。当多个设备同时尝试在网络上发送数据时，可能会发生冲突，这时需要使用一种机制来避免继续发生冲突。

截断二进制指数退避算法的过程如下：
1. 当设备需要发送数据时，首先选择一个随机的退避窗口大小，通常使用指数函数进行计算，比如选择一个介于0和2^k之间的随机数，其中k是重传次数。
2. 设备在退避窗口时间内等待，如果在此期间没有检测到其他设备的活动，则设备可以发送数据。
3. 如果在退避窗口时间内检测到其他设备的活动（即冲突发生），则设备需要等待一段时间，并将退避窗口大小加倍。
4. 重复步骤2和步骤3，直到设备成功发送数据或达到最大重传次数。

下面是一个示例：
假设有两个设备A和B同时尝试在网络上发送数据。设备A选择了一个退避窗口大小为2的指数函数（即随机数为0或1），设备B选择了一个退避窗口大小为4的指数函数（即随机数为0、1、2或3）。

1. 设备A在退避窗口时间内等待，没有检测到冲突，可以发送数据。
2. 设备B在退避窗口时间内等待，没有检测到冲突，可以发送数据。
3. 如果两个设备在同一时间内发送数据，发生了冲突。设备A和设备B都需要等待一段时间，并将退避窗口大小加倍。
4. 设备A选择了一个退避窗口大小为4的指数函数（即随机数为0、1、2或3），设备B选择了一个退避窗口大小为8的指数函数（即随机数为0到7之间的数）。
5. 设备A在退避窗口时间内等待，没有检测到冲突，可以发送数据。
6. 设备B在退避窗口时间内等待，没有检测到冲突，可以发送数据。
通过不断调整退避窗口大小，并等待一段时间，截断二进制指数退避算法可以有效地减少冲突的发生，提高网络的传输效率。

## CSMA/CD协议的要点---

1. 载波侦听：在发送数据之前，节点首先检测信道上是否有其他节点正在发送数据。如果信道被占用，节点将等待一段时间，直到信道空闲，然后再发送数据。
2. 多点接入：多个节点共享同一个信道，任何节点都可以尝试发送数据。每个节点都有平等的访问权，可以根据需要发送数据。
3. 碰撞检测：如果两个或更多节点同时开始发送数据，它们的信号会在信道中发生碰撞。发送节点会检测到这个碰撞，并立即停止发送，然后等待一个随机的时间间隔，再次尝试发送。
4. 碰撞处理：当发生碰撞时，节点会使用一种指数退避算法，通过等待随机的时间间隔来避免再次发生碰撞。节点等待的时间间隔会逐渐增加，以减少再次发生碰撞的可能性。
5. 重传机制：如果节点成功发送了数据而没有发生碰撞，接收节点会返回一个确认帧。如果发送节点在一定时间内没有收到确认帧，它会假设数据丢失，并进行重传。

## 以太网的自学习功能---

以太网的自学习功能是指网络交换机通过观察和分析网络数据帧的目的MAC地址来学习和建立转发表，从而实现数据的有效转发。当一个数据帧到达交换机时，交换机会检查该数据帧的源MAC地址，并将其与已学习到的MAC地址进行比对。如果该源MAC地址已存在于转发表中，交换机将根据表中的信息将数据帧发送到相应的端口。如果该源MAC地址尚未存在于转发表中，交换机将学习该地址，并将其与到达的接口关联起来，以便将来可以将数据帧正确地转发到该地址。
以太网的自学习功能使得网络交换机能够动态地学习和适应网络中设备的变化。当设备加入网络或者改变位置时，交换机能够及时学习到新的MAC地址，并更新转发表，确保数据可以准确地传送到目标设备。这种自学习的机制使得以太网网络更加智能和高效，提供了良好的数据转发能力。

## 虚电路服务与数据报服务的对比

|                          | 虚电路服务                                   | 数据报服务                                     |
| ------------------------ | -------------------------------------------- | ---------------------------------------------- |
| 思路                     | 可靠通信由网络保证                           | 可靠通信由计算机主机保证                       |
| 连接建立                 | 必须有                                       | 不需要                                         |
| 重点地址                 | 仅连接建立阶段使用，每一分组使用短的虚电路号 | 每个分组有完整的终点地址                       |
| 分组的转发               | 同一条虚电路各分组按照同一条路由转发         | 每个分组独立选择路由进行转发                   |
| 结点出故障               | 所有通过故障结点得虚电路都不工作             | 出故障结点可能会丢失分组，一些路由可能发生变化 |
| 分组顺序                 | 总是按顺序到达                               | 到达终点时不一定按发送顺序                     |
| 端到端差错处理和流量控制 | 可以由网络也可以由主机                       | 由用户主机                                     |



## 计算机网络通信中，可靠交付应当由谁来负责的两种观点讨论，其原因是什么？

让网络负责可靠交付，是面向连接的

网络提供数据报服务，是无连接的

## IP地址具有的重要特点

①IP地址是一种分等级的地址结构，都由网络前缀与主机号组成 

②实际上IP 地址是标志一个主机或者路由器和一条链路的接口

③用转发器或者交换机连接起来的局域网仍然是一个网络，这些局域网都由同样的网络号

④所有分配到网络号的网络，无论是范围小的局域网还是范围大的广域网，网络都是平等的

## 从不同层次上看IP地址和MAC地址，可以得到的结论是？（P132的这里要强调指出以下几点）

①在IP 层抽象的互联网上只能看到IP 数据报，IP 数据报首部的源、目的地址始终不变与中间路由无关

②路由器只根据目的站IP 地址进行转发

③在局域网的链路层只能看到 MAC帧，MAC帧在不同的网络上传送时源、目的地址不同。

④I 层抽象的互联网屏蔽了下层复杂细节，只要是在网络层上讨论问题，就能使用统一的抽象IP 地址去研究主机与主机或者主机与路由器的通信。

## 使用ARP的四种典型情况

①发送方是主机，主机的硬件地址要把 IP 数据报传给本网络的另一个主机，这时要用 ARP 找目的主机的硬件地址

②发送方是主机，要把 IP 数据报传给另一个网络的一个主机，这时要用 ARP 找本网络上的一个路由器硬件地址，剩下的交给路由器

③发送方是路由器，要把IP数据报传给本网络的一个主机，这时要用 ARP 找目的主机的硬件地址

④发送方是路由器，要把IP 数据报发给另一个网络上的一个主机，这时要用 ARP 找本网络上的另“个路由器硬件地址，剩下的工作交给这个路由器完成

## ARP的工作过程--

1. 主机A发送一个ARP请求广播包，其中包含目标主机B的IP地址。
2. 所有连接到网络的主机都会接收到这个ARP请求广播包，但只有IP地址与请求中的目标地址匹配的主机B会响应。
3. 主机B收到ARP请求后，会将自己的MAC地址包含在一个ARP响应包中，并发送回主机A。
4. 主机A收到ARP响应包后，会将主机B的IP地址和MAC地址存储在它的ARP缓存中，以便将来的通信中使用。
5. 之后，主机A就可以使用主机B的MAC地址直接发送数据包到主机B，而无需再进行地址解析过程。

## IP数据包的分片涉及到的字段

总长度、标识、标志、片偏移（分片首字节除以8得到片偏移）

 标志：MF=1 表示有分片，DF=0才允许分片

## IP层转发分组的过程-基于终点的转发---

1. 分组接收：路由器收到一个IP数据分组。
2. 目的IP地址解析：路由器检查分组中的目的IP地址。
3. 查找路由表：路由器查询自己的路由表，以确定下一跳的目标路由器。
4. 下一跳确定：路由器根据路由表中与目的IP地址匹配的最长前缀，确定下一跳路由器的IP地址。
5. 下一跳地址解析：路由器将下一跳路由器的IP地址转换为对应的物理地址，如MAC地址。
6. 分组转发：路由器将分组通过适当的物理接口发送到下一跳路由器。
7. 重复过程：下一跳路由器重复上述步骤，直到分组到达最终目的地。

## IP层转发分组的过程-最长前缀匹配转发---

1. 当一个数据包到达路由器时，路由器会检查该数据包的目标IP地址。
2. 路由器会查找其路由表，该表包含了与不同网络相连的接口和相应的IP地址范围。
3. 路由器会将目标IP地址与路由表中的每个条目进行比较，使用最长前缀匹配的规则选择最佳匹配。
4. 最长前缀匹配规则是指路由器将选择具有最长公共前缀的IP地址范围。也就是说，路由器将选择与目标IP地址具有最长匹配前缀的路由表条目。
5. 路由器将根据匹配到的路由表条目确定转发接口，该接口将数据包发送到下一跳路由器或目标主机。
6. 如果找不到匹配的路由表条目，路由器将使用默认路由（default route）将数据包转发到一个预定义的接口，通常是连接到互联网的接口。

## 理想路由算法的特点

①算法必须是正确的、完整的

②算法在计算上应该是简单的

③算法能够适应通信量和网络拓扑的变化 

④算法应具有稳定性

⑤算法应该是公平的

⑥算法应该是最佳的

## RIP协议的特点

①仅和相邻路由器交换信息

②交换的信息是当前路由所知道的所有信息，即自己的路由表

③按固定时间交换路由信息。当网络拓扑发生变化时，路由器也及时向相邻路由通告拓扑变换后的路由信息

## 距离向量算法（RIP）

对每个相邻路由器（假设地址为X）发来的RIP 报文，路由器：

（1）修改收到的 RIP 中所有项目：把“下一跳”字段中的地址全部改成X，并把“距离”加 1

（2）对修改后的RIP报文内的每一项重复以下步骤：

​	①若没有目的网络N，则把项目添加到路由表

​	②若有目的网络 N，且下一跳路由器为X，则不管距离直接替换 

​	③否则，若下一跳不是X，比较距离，只有当接收距离小于时才更新收到的路由表

（3）若三分钟没有收到相邻的更新路由表，则记为不可达，距离置为16

## RIP协议的缺点

①网络规模有限，最大距离为15（16表示不可达）

②交换路由信息为完整路由，开销大

⑧坏消息传播慢，收敛速度慢

## OSPF的基本特点。

①采用洪泛法，对自治系统所有路由器发送信息

②发送的信息是与本路由器相邻的所有路由器的链路状态，但这只是路由器的部分信息

③当链路状态发生改变或者每隔一段时间，路由器采用洪泛法向所有路由器发送此信息

## OSPF除了基本特点外，还具有的一些特点

①对不同类型业务计算出不同的路由

②实现多路径负载均衡

③所有在 OSPF 交换的分组都有鉴别功能

④支持可变子网划分和无编码地址 CIDR 

⑤32 位序号，序号越大状态越新

## BGP的路由选择

①本地偏好最高的路由

②AS 跳数最少的路由

③使用热土豆路由选择算法（分组在 AS 内转发次数最少）

④路由器 BGPID 数值最少的路由。多个IP 地址就选数值最大那一个

## 多播路由协议为什么复杂？

①多播转发必须动态的适应多播组成员的变化，因为每台主机可以随时加入或者离开一个多播组

②多播路由器在转发多播数据报时，不能仅仅根据数据报中的目的地址，还要考虑这个多播数据报从哪里来到哪里去

③多播数据报可以由没有加入多播组主机发出，也可以由没有组成员接入网络

## 反向路径广播和剪除

①检查、转发

②形成以源为根节点多播转发树

③剪枝和嫁接，剪枝是剪去没有多播组成员的路由器；嫁接是把新增组成员接入多播转发树

## IGMP工作的两个阶段

①第一阶段，加入多播组，发送IGMP报文声明自己要成为多播组成员，多播路由看到后，通过多播路由选择协议转发给其他组成员

②第二阶段，探询组成员变化情况，本地多播路由器要周期性探询本地局域网上主机，有一个主机响应就认为组活跃，几次探询无响应就不转发。

## 为了避免多播控制信息给网络增加大量的开销，IGMP采用的具体措施有？

①所有通信都是用IP多播，只要可能，就是用硬件多播传送

②对所有组只发一次请求询问报文，默认询问速率是125s一次

③当网络上连接多个多播路由器时，能够迅速、有效的选择其中一个探询主机成员关系

④分散响应，对时延最小最先发送

⑤采用抑制机制

## 网络地址转换---

网络地址转换（简称NAT）将私有IP地址转换为公共IP地址的技术。
NAT的主要目的是解决IPv4地址不足的问题。在IPv4网络中，IP地址资源有限，而私有IP地址范围是可以被重复使用的。NAT允许多个设备共享同一个公共IP地址，通过转换私有IP地址和端口号，实现了局域网内部设备与公网之间的通信。
NAT的工作原理如下：当位于局域网内部的设备向公网发送数据包时，NAT设备会将源IP地址和端口号修改为公共IP地址和一个唯一的端口号。当公网返回响应数据时，NAT设备会根据端口号和转换表将数据包转发给对应的局域网设备。
NAT提供了一些重要的功能和优势，包括：

1. IP地址共享：多个设备可以使用同一个公共IP地址进行访问互联网，减少了对公共IP地址的需求。
2. 隐藏内部网络：通过将私有IP地址转换为公共IP地址，NAT可以隐藏内部网络的细节，增加了网络的安全性。
3. 灵活性：NAT可以根据网络管理员的配置进行灵活的地址映射和端口转换，满足不同网络需求。
4. 减少IP地址消耗：由于私有IP地址可以在多个网络中重复使用，NAT减少了对公共IP地址的需求，节省了IP地址资源。
总结来说，网络地址转换（NAT）是一种将私有IP地址转换为公共IP地址的技术，通过地址和端口的映射，实现了多个设备共享一个公共IP地址的功能，解决了IPv4地址不足的问题。它在网络中扮演着重要的角色，提供了地址共享、安全性增强、灵活性和节省IP地址资源等优势。

## MPLS的三个方面的特点

①支持面向连接的服务质量 ②支持流量工程，平衡网络负载 ③有效支持虚拟专用网 VPN

## MPLS基本工作过程的解释

①检出标签交换路径LSP。各LSR 使用标签交换协议 LDP 交换报文，找出与标签

对应的标签交换路径LSP

②打标签然后转发。入口节点给 MPLS域的IP 数据报打上标签，并按照转发表把它转发给下一个 LSR。给数据报打标签的过程叫做分类

③标签对换。把入标签改为出标签

④去除标签。当分组离开 MPLS 域时，出节点把分组标签去除。

## UDP和TCP的特点

UDP 特点：①无连接 ②使用尽最大努力交付 ③面向报文 ④没有拥塞控制 ⑤支持一对一、一对多、多对多、多一等交互通信 ⑥首部开销小，只有8个字节

TCP特点：①面向连接的运输层协议 ②每条 TCP连接只有两个端点，每一条 TCP连接只能是点对点的 ③TCP提供可靠交付的服务 ④TCP提供全双工通信 ⑤面向字节流。

## 可靠传输的工作原理：停止等待协议

①停止等待：每次只发一个分组，收到确认后发下一个分组

②暂存：发送完一个分组后，发送方暂存已发送分组的副本，以备重发 

③编号；对发送的每一个分组和确认进行编号

④超时重传：设置超时计时器，若超时未收到确认，发送方自动重传，超时计时器重传时间应该比平均往返时间长

⑤简单，但是信道利用率低

## 连续ARQ协议

①发送窗口：发送方维持一个发送窗口，位于窗口内分组都可被连续发送出去，而不需要等待确定。

②发送窗口滑动：发送方每收到一个确认就把窗口向前滑动一个分组位置 

③累积确认：接收方对按序到达的最后一个分组发送确认，表示到这个分组为止的所有分组都接收正确

④采用 GO-back-N（回退 N）：表示回退重传已发送的N 个分组

## 控制TCP报文段发送时机的几种机制

①TCP 维持一个变量，他等于最大报文长度MSS。只要缓存中的数据达到一个 MSS

③发送方一个计时器期限到了，这时把当前已有的缓存数据装入一个报文段（但长度不超过MSS）发送出去。

## TCP的发送缓存和接收缓存的作用

（1）发送缓存的作用：①暂时存放发送应用程序传送给发送方 TCP 准备发送的程序；②暂时存放 TCP发出但是尚未收到确认的数据

（2）接受缓存的作用：①暂时存放按序到达，但尚未被接受应用程序读取的数据；②暂时存放未按序到达的数据

## 超时重传时间的选择---

1. 网络延迟：网络延迟是指数据从发送方到接收方所需要的时间。如果网络延迟较高，那么超时重传时间应该相应增加，以允许足够的时间让数据在网络上传输完成。否则，过早触发重传机制可能会导致不必要的重传，影响网络性能。
2. 网络拥塞：网络拥塞是指网络中的流量过大，导致数据包丢失或延迟增加的情况。在拥塞的网络环境中，超时重传时间应该设置得较短，以尽快发现丢失的数据包并进行重传，从而减少网络拥塞的程度。
3. 数据重要性：不同的应用对数据的重要性有不同的要求。对于一些实时性要求较高的应用，如视频会议或实时游戏，超时重传时间应该设置得较短，以确保数据及时到达。而对于一些非实时性要求较高的应用，如电子邮件传输，超时重传时间可以设置得较长，以提高网络的吞吐量。
4. 重传机制的效率：超时重传时间的选择还应考虑重传机制的效率。如果超时时间设置得过长，可能会导致不必要的等待时间，降低网络的响应速度。相反，如果超时时间设置得过短，可能会导致频繁的重传，增加网络的负担。因此，需要综合考虑网络状况和重传机制的效率，选择一个合理的超时重传时间。

## Nagle算法---

Nagle算法是一种优化TCP（传输控制协议）数据传输的算法。它的目标是减少网络中的小型数据包数量，从而提高网络的效率和吞吐量。
Nagle算法的原理是，在发送TCP数据之前，先将较小的数据包缓存起来，直到一定条件满足时再发送。这个条件包括两个方面：第一，之前发送的数据包已经收到了对应的确认信息；第二，当前发送的数据量已经达到了一个阈值（通常为MSS，即最大报文段长度）。
通过将较小的数据包合并成较大的数据块发送，Nagle算法可以减少网络中的报文数量，从而降低了网络的拥塞程度和传输延迟。这对于某些应用场景，如通过网络进行实时音视频传输或远程控制操作，特别有益。

下面是一个示例来说明Nagle算法的工作原理：
假设有一个应用程序需要发送三个小型数据包（A、B和C），每个数据包的大小都比MSS小。在没有使用Nagle算法的情况下，应用程序会立即发送这三个数据包。
而使用Nagle算法时，应用程序会先发送数据包A，然后等待接收到对A的确认信息。接着，应用程序会发送数据包B，并等待对B的确认信息。最后，应用程序会发送数据包C，并等待对C的确认信息。这样就将三个小型数据包合并成了三个较大的数据块，减少了网络中的报文数量。
总结：Nagle算法通过缓存小型数据包并合并发送，以减少网络中的报文数量，提高网络效率和吞吐量。

## 糊涂窗口综合症

指的是每次迟发送一个字节或者很少几个字节的数据时，有效数据传输效率变得很低的现象，发送一个字节需要加上20字节IP首部、20字节 TCP 首部形成41 个字节的IP数据报。

## 拥塞控制的算法：慢开始、拥塞避免、快重传、快恢复---

1. 慢开始算法：
慢开始算法是一种用于拥塞控制的算法，它用于确定发送方的起始发送速率。在开始发送数据时，发送方以指数级增加发送窗口的大小，以探测网络的拥塞程度。具体而言，发送方初始将发送窗口设置为一个较小的值，然后每经过一个往返时间（RTT），将发送窗口的大小加倍。这样逐渐增加的发送窗口可以有效地利用网络的带宽，并且在网络出现拥塞之前逐步增加发送速率。
2. 拥塞避免算法：
拥塞避免算法是用于在网络中避免拥塞的一种算法。一旦慢开始阶段结束，发送方将进入拥塞避免阶段。在拥塞避免阶段，发送方以线性增加的方式增加发送窗口的大小，而不是指数级增加。这样可以防止发送方在网络中发送过多的数据，从而避免引发拥塞。此算法通常使用拥塞窗口（cwnd）来控制发送方的发送速率。
3. 快重传算法：
快重传算法是一种用于快速恢复丢失数据的算法。当接收方发现一个数据包丢失时，通常会发送一个重复确认（duplicate ACK）给发送方。发送方在收到一定数量的重复确认后，就可以推断出某个数据包已经丢失，并立即进行重传，而不必等待超时定时器的触发。这样可以更快地恢复丢失的数据，提高网络的传输效率。
4. 快恢复算法：
快恢复算法是与快重传算法配合使用的一种拥塞控制算法。当发送方接收到一定数量的重复确认时，它会将拥塞窗口减半，并将拥塞窗口的大小设置为拥塞避免阈值的一半。然后，发送方进入快恢复阶段，每收到一个新的确认时，将拥塞窗口的大小增加一个数据包的大小。这样可以在网络中更快地进行重传，并逐渐增加发送速率，以恢复到正常的发送状态。

## 绘制TCP连接和连接释放的过程图、并说明---

TCP连接建立的过程：

1. 主机A想要与主机B建立TCP连接，首先主机A发送一个带有SYN（同步）标志的TCP报文段给主机B。
2. 主机B接收到主机A发送的SYN报文段后，会向主机A发送一个带有SYN/ACK（同步/确认）标志的TCP报文段。
3. 主机A收到主机B发送的SYN/ACK报文段后，会再次向主机B发送一个带有ACK（确认）标志的TCP报文段，确认主机B的响应。
4. 主机B接收到主机A发送的ACK报文段后，TCP连接建立完成，主机A和主机B之间可以开始进行数据传输。=
TCP连接释放的过程：
1. 当主机A或主机B的应用程序需要关闭TCP连接时，会发送一个带有FIN（结束）标志的TCP报文段给对方。
2. 接收到FIN报文段的一方（例如主机B）会发送一个ACK报文段作为确认。
3. 在发送ACK报文段之后，接收到FIN和ACK报文段的一方会进入"半关闭"状态，仍然可以发送数据，但不再接收新的数据。
4. 如果另一方（例如主机A）也希望关闭连接，它会发送一个带有FIN标志的TCP报文段。
5. 接收到FIN报文段的一方会发送一个ACK报文段进行确认，并进入"时间等待"状态，等待一段时间以确保对方收到ACK报文段。
6. 在"时间等待"状态结束后，连接释放完成，TCP连接彻底关闭。

TCP连接建立过程中，双方通过交换带有SYN和ACK标志的TCP报文段来协商连接参数并确认对方的响应，从而建立连接。TCP连接释放过程中，双方通过交换带有FIN和ACK标志的TCP报文段来协商关闭连接，并确认对方的响应，最终关闭连接。

## DNS的域名解析过程

递归查询：

①通常，主机向本地域名服务器查询时使用

②若不知道，就以 DNS 客户身份向其他根域名服务器继续发出查询请求报文

迭代查询：

①本地域名服务器向根域名服务器查询使用

②要么给出想要查询的IP地址，要么告诉本地域名服务器下一步应该向哪个权限域名服务器查询

③本地域名服务器就这样继续后续的查询

## 万维网必须解决的几个问题

①怎么标志分布在整个互联网上的万维网文档？

A、使用统一资源定位符 URL

②用什么协议来实现万维网上的各种链接？

A、采用超文本传送协议 HTTP，HTTP 是应用层的协议，采用 TCP 连接可靠传输。

③怎么使不同作者创作的不同风格万维网文档在互联网各主机上显示出来，同时使用户清楚的知道在什么地方存链接？

A、使用超文本标记语言HTML

④怎么使用户能够方便的找到需要的信息？

A、使用各种搜索工具

## HTTP的代理服务器---

HTTP代理服务器是一种位于客户端和服务器之间的中间服务器，它充当客户端和服务器之间的中转角色。当客户端发送HTTP请求时，请求首先发送给代理服务器，然后代理服务器再将请求发送给目标服务器。类似地，当服务器返回响应时，响应首先发送给代理服务器，再由代理服务器转发给客户端。
HTTP代理服务器有以下几个主要功能：

1. 缓存：代理服务器可以缓存已请求的资源。当客户端再次请求相同的资源时，代理服务器可以直接返回缓存的副本，而无需再次向目标服务器发送请求，从而提高响应速度和减轻服务器负载。
2. 过滤和防火墙：代理服务器可以根据配置规则对HTTP请求和响应进行过滤，例如阻止某些特定的URL访问或屏蔽特定的内容。这有助于提高网络安全性和保护用户隐私。
3. 匿名化：通过使用代理服务器，客户端可以隐藏其真实的IP地址和身份，从而实现一定程度的匿名化。
4. 负载均衡：代理服务器可以作为负载均衡器，将客户端请求分发到多个服务器上，从而平衡服务器的负载，提高系统的性能和可靠性。
HTTP代理服务器在网络中起到了重要的作用，可以改善性能、提供安全性和保护隐私，并支持更高级的网络功能。

## 点击 URL http://******************后所发生的事件---

1. DNS 解析：计算机首先会将 URL 中的域名部分发送给 DNS 服务器，以获取对应的 IP 地址。这个步骤是为了将域名转换为可识别的 IP 地址。
2. 建立 TCP 连接：使用获取到的 IP 地址，计算机将与目标服务器建立 TCP 连接。这是为了确保可靠的数据传输，它涉及三次握手过程，即建立连接、确认连接、建立连接确认。
3. 发送 HTTP 请求：一旦建立了 TCP 连接，计算机会发送一个 HTTP 请求给目标服务器。这个请求中包含了用户需要获取的资源的信息，如请求类型（GET、POST 等）、请求头和请求体。
4. 服务器处理请求：目标服务器接收到请求后，会根据请求的内容进行处理。这可能涉及到查询数据库、执行应用程序等操作，以生成相应的数据。
5. 服务器发送 HTTP 响应：一旦服务器处理完请求，它会生成一个 HTTP 响应，其中包含了请求的结果或所需的资源。响应中还包括响应头和响应体等信息。
6. 接收 HTTP 响应：计算机接收到服务器发送的 HTTP 响应后，会解析响应头和响应体，以获取所需的数据。
7. 关闭 TCP 连接：在完成数据传输后，计算机会关闭与服务器之间的 TCP 连接，释放网络资源。

## 使用代理服务器情况下访问互联网网站的过程（http）

①浏览器向互联网服务器请求服务时，先和代理服务器建立TCP 连接，并向代理服务器发送 HTTP 请求报文

②若代理服务器已经存放了请求的对象，就把这个对象放入 HTTP 响应报文返回给浏览器

③否则，代理服务器代表发出请求的浏览器与互联网源点服务器建立 TCP 连接，并发送 HTTP 请求报文

④源点服务器收到后，把请求的对象放入 HTTP 响应报文中返回给代理服务器

⑤代理服务器收到后，先复制在自己的本地存储器中，再把对象放到 HTTP 响应报多中通过原先的 TCP连接返回给浏览器。

## 三种万维网文档

①静态万维网文档。内容不改变，简单。

②动态万维网文档。文档的内容由应用程序动态创建。

③活动万维网文档。由浏览器改变文档内容。

## 电子邮件的三个主要组成构建

①用户代理。用户代理基本功能是撰写、显示、处理、通信

②邮件服务器。发送和接受邮件，同时还要向发信人报告邮件传送情况。按照客户服务器方式。

③邮件发送和读取协议。邮件发送和读取使用不同的协议：邮件发送使用简单邮件发送协议 SMTP，邮件接受使用邮局协议 POP3，这两个协议都是用 TCP 建立可靠通信。

## 用户代理的４个功能

用户代理基本功能是    撰写、显示、处理、通信

## SMTP通信的三个阶段

①连接建立：连接是在发送主机的SMTP 客户和接收主机的SMTP服务之间建立的。SMTP不使用中间的邮件服务器。

②邮件发送

③连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。

1-10、1-11、1-19、1-28、1-34、1-35、1-36
概述
2-9、2-16、
物理层
3-07、3-20，3-24、3-25、3-26、3-30、3-33
数据链路
4-15、4-18、4-19、4-20、4-22、4-24、4-25、4-26、4-28、4-29、4-31、4-33、4-37、4-38、4-39、4-47、4-48、4-63、4-66、4-67
网络
5-13、5-21、5-23、5-24、5-33、5-34、5-35、5-39、5-47、5-49、5-61
运输