##### 7.要发送的数据为1101011011。采用CRC的生成多项式是P(X)=X^4 + X + 1。试求应添加在数据后面的余数。 	数据在传输过程中最后一个1变成了0，问接收端能否发现？	若数据在传输过程中最后两个1都变成了0，问接收端能否发现？	采用CRC检验后，数据链路层的传输是否就变成了可靠的传输？

除数为10011（冗余码四位），被除数为11010110110000，得余数1110。余数应该添加到数据后作为冗余码。
能，添加冗余码后的数据除以除数的余数不为0。
能，原因同上。
不是，数据链路层只能保证无差错接收，对于有差错的帧只是丢弃，并不能保证可靠传输。

##### 20.假定1km长的CSMA/CD网络的数据率为1Gb/s。设信号在网络上的传播速率为200000km/s。求能够使用此协议的最短帧长。

CSMA/CD的功能之一是冲突检测,其耗时最长为端到端传播时延的两倍。
对于1km电缆，单程传播时间为1km/200000km=5为微秒，来回路程传播时间为10微秒，为了能够按照CSMA/CD工作，最小帧的发射时间不能小于10微秒，以Gb/s速率工作，10微秒可以发送的比特数等于10000,因此，最短帧是10000位或1250字节长

##### 24.假定站点A和B在同一个10Mb/s以太网网段上。这两个站点之间的传播时延为225比特时间。现假定A开始发送一帧，并且在A发送结束之前B也发送一帧。如果A发送的是以太网所容许的最短的帧，那么A在检测到和B发生碰撞之前能否把自己的数据发送完毕？换言之，如果A在发送完毕之前并没有检测到碰撞，那么能否肯定A所发送的帧不会和B发送的帧发生碰撞？（提示：在计算时应当考虑到每一个以太网帧在发送到信道上时，在MAC帧前面还要增加若干字节的前同步码和帧定界符）

10Mb/s的以太网段上最短帧长512bit，**加上8字节的首部和尾部**共有576bit。 

B只能在A发送后225比特内发送，假设A发送时间为 t = 0，B发送时间为 t1 = x（ 0 < x < 225），225 比特时间时 B 会检测到碰撞，并停止发送。 

A 在 225 + x 比特时间后检测到碰撞，此时才发送了225 + x 比特，由于 0 < x < 225，所以 225 < 225 + x < 450 比特，所以不能发送完。

##### 25.在上题中的站点A和B在t=0时同时发送了数据帧。当t=255比特时间，A和B同时检测到发生了碰撞，并且在t=255+48=273比特时间完成了干扰信号的传输。A和B在CSMA/CD算法中选择不同的r值退避。假定A和B选择的随机数分别是rA=0和rB=1。试问A和B各在什么时间开始重传其数据帧？A重传的数据帧在什么时间到达B？A重传的数据会不会和B重传的数据再次发生碰撞？B会不会在预定的重传时间停止发送数据？

争用期：512 比特时间，A的重传时间：tA=273t_A =273tA=273，B 的重传时间：tB=273+512=785t_B = 273 + 512 = 785tB=273+512=785。
A立即检测信道，信道在传输干扰信号，直到 t=273+225=498t = 273 + 225 = 498t=273+225=498时信道空闲，等待 96 比特时间开始发送。在t=498+96+225=819t = 498 + 96 +  225=819t=498+96+225=819时，A的第一个比特到达B。
如果 B 在 785785785 到 785+96=881785 + 96=881785+96=881 时间内B检测不到 A 的信号，B就会在 881 时发送，但B在819检测到A的信号，所以不会发送数据。

##### 26.以太网上只有两个站，它们同时发送数据，产生了碰撞。于是按截断二进制指数退避算法进行重传。重传次数记为i，i=1，2，3,……。试计算第1次重传失败的概率、第2次重传的概率、第3次重传失败的概率，以及一个站成功发送数据之前的平均重传次数I。

重传取值集合：\[0, 1, 2, ... (2^k-1)]，k=Min[重传次数，10]k=Min[重传次数，10]k=Min[重传次数，10]。

1. 集合{0， 1}，概率：2/4=50%
2. 25% 
3. 12.5% 

P[第i次重传成功] = P[第一次重传失败] x P[第一次重传失败] x  P[第三次重传失败] x ... x  P[第i-1次重传失败] x  P[第i次重传成功]
P[第一次重传成功] = 0.5
P[第二次重传成功] = 0.5×0.75=0.375
P[第三次重传成功] = 0.5×0.25×0.875=0.1094
 P[第四次重传成功] = 0.5×0.25×0.125×0.9375=0.0146
 平均重传次数：0.5 + 2 x 0.375 + 3 x 0.1094 + 4 x 0.0146 + ... = 1.64

##### 30.在图3-30 中，某学院的以太网交换机有三个接口分别和学院三个系的以太网相连，另外三个接口分别和电子邮件服务器、万维网服务器以及一个连接互联网的路由器相连。图中的A,B和C都是100Mbit/s以太网交换机。假定所有的链路的速率都是100Mbit/s，并且图中的9台主机中的任何一个都可以和任何–个服务器或主机通信。试计算这9台主机和两个服务器产生的总的吞吐量的最大值。为什么?

答：交换机具有并行性，联通一台交换机上的端口，多对主机同时工作，所以9台主机的吞吐量为900Mbit/s，两台服务器为200Mbit/s，所以共为1100Mbit/s。

##### 33.在图3-31中，以太网交换机有6个端口，分别接到5台主机和一个路由器。下面表中动作一栏中，表示先后发送了4个帧。假定在开始时，以太网交换机的交换表是空的。把表中的项目填完。

答：动作 ------------------交换表的状态---------向哪些接口转发帧 -----------------说明
A发送帧给D -----写入(A, 1)—所有接口--------------发送之前为空表，发送之后存入A接口在1

D发送帧给A ----写入(D, 4)-------A接口----------------之前有A的信息，发送之后存入D接口在4

E发送帧给A ----写入(E, 5)------A接口-----------------之前有A的信息，发送之后存入E接口在5

A发送帧给E ----不变--------------E接口-----------------之前有E的信息和A的信息